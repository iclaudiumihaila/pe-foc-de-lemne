{"ast":null,"code":"import axios from 'axios';\n\n// Base configuration\nconst API_BASE_URL = process.env.REACT_APP_API_BASE_URL || 'http://localhost:8080/api';\nconst API_TIMEOUT = 10000; // 10 seconds\n\n// Create axios instance\nconst api = axios.create({\n  baseURL: API_BASE_URL,\n  timeout: API_TIMEOUT,\n  headers: {\n    'Content-Type': 'application/json',\n    'Accept': 'application/json'\n  }\n});\n\n// Request interceptor\napi.interceptors.request.use(config => {\n  var _config$method;\n  // Add timestamp to prevent caching\n  config.params = {\n    ...config.params,\n    _t: Date.now()\n  };\n\n  // Add any auth tokens here in the future\n  // const token = localStorage.getItem('authToken');\n  // if (token) {\n  //   config.headers.Authorization = `Bearer ${token}`;\n  // }\n\n  console.log('API Request:', {\n    method: (_config$method = config.method) === null || _config$method === void 0 ? void 0 : _config$method.toUpperCase(),\n    url: config.url,\n    baseURL: config.baseURL,\n    data: config.data\n  });\n  return config;\n}, error => {\n  console.error('API Request Error:', error);\n  return Promise.reject(error);\n});\n\n// Response interceptor\napi.interceptors.response.use(response => {\n  console.log('API Response:', {\n    status: response.status,\n    url: response.config.url,\n    data: response.data\n  });\n  return response;\n}, error => {\n  var _error$response, _error$config, _error$response2, _error$response3, _error$response4, _error$response5, _error$response6;\n  console.error('API Response Error:', {\n    status: (_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.status,\n    url: (_error$config = error.config) === null || _error$config === void 0 ? void 0 : _error$config.url,\n    message: error.message,\n    data: (_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : _error$response2.data\n  });\n\n  // Handle common error cases\n  if (((_error$response3 = error.response) === null || _error$response3 === void 0 ? void 0 : _error$response3.status) === 401) {\n    // Handle unauthorized - could redirect to login in the future\n    console.warn('Unauthorized API request');\n  } else if (((_error$response4 = error.response) === null || _error$response4 === void 0 ? void 0 : _error$response4.status) === 403) {\n    // Handle forbidden\n    console.warn('Forbidden API request');\n  } else if (((_error$response5 = error.response) === null || _error$response5 === void 0 ? void 0 : _error$response5.status) === 404) {\n    // Handle not found\n    console.warn('API endpoint not found');\n  } else if (((_error$response6 = error.response) === null || _error$response6 === void 0 ? void 0 : _error$response6.status) >= 500) {\n    // Handle server errors\n    console.error('Server error occurred');\n  } else if (error.code === 'ECONNABORTED') {\n    // Handle timeout\n    console.error('API request timeout');\n  } else if (!error.response) {\n    // Handle network errors\n    console.error('Network error - backend may be down');\n  }\n  return Promise.reject(error);\n});\nexport default api;","map":{"version":3,"names":["axios","API_BASE_URL","process","env","REACT_APP_API_BASE_URL","API_TIMEOUT","api","create","baseURL","timeout","headers","interceptors","request","use","config","_config$method","params","_t","Date","now","console","log","method","toUpperCase","url","data","error","Promise","reject","response","status","_error$response","_error$config","_error$response2","_error$response3","_error$response4","_error$response5","_error$response6","message","warn","code"],"sources":["/Users/claudiu/Desktop/pe foc de lemne/frontend/src/services/api.js"],"sourcesContent":["import axios from 'axios';\n\n// Base configuration\nconst API_BASE_URL = process.env.REACT_APP_API_BASE_URL || 'http://localhost:8080/api';\nconst API_TIMEOUT = 10000; // 10 seconds\n\n// Create axios instance\nconst api = axios.create({\n  baseURL: API_BASE_URL,\n  timeout: API_TIMEOUT,\n  headers: {\n    'Content-Type': 'application/json',\n    'Accept': 'application/json'\n  }\n});\n\n// Request interceptor\napi.interceptors.request.use(\n  (config) => {\n    // Add timestamp to prevent caching\n    config.params = {\n      ...config.params,\n      _t: Date.now()\n    };\n    \n    // Add any auth tokens here in the future\n    // const token = localStorage.getItem('authToken');\n    // if (token) {\n    //   config.headers.Authorization = `Bearer ${token}`;\n    // }\n    \n    console.log('API Request:', {\n      method: config.method?.toUpperCase(),\n      url: config.url,\n      baseURL: config.baseURL,\n      data: config.data\n    });\n    \n    return config;\n  },\n  (error) => {\n    console.error('API Request Error:', error);\n    return Promise.reject(error);\n  }\n);\n\n// Response interceptor\napi.interceptors.response.use(\n  (response) => {\n    console.log('API Response:', {\n      status: response.status,\n      url: response.config.url,\n      data: response.data\n    });\n    \n    return response;\n  },\n  (error) => {\n    console.error('API Response Error:', {\n      status: error.response?.status,\n      url: error.config?.url,\n      message: error.message,\n      data: error.response?.data\n    });\n    \n    // Handle common error cases\n    if (error.response?.status === 401) {\n      // Handle unauthorized - could redirect to login in the future\n      console.warn('Unauthorized API request');\n    } else if (error.response?.status === 403) {\n      // Handle forbidden\n      console.warn('Forbidden API request');\n    } else if (error.response?.status === 404) {\n      // Handle not found\n      console.warn('API endpoint not found');\n    } else if (error.response?.status >= 500) {\n      // Handle server errors\n      console.error('Server error occurred');\n    } else if (error.code === 'ECONNABORTED') {\n      // Handle timeout\n      console.error('API request timeout');\n    } else if (!error.response) {\n      // Handle network errors\n      console.error('Network error - backend may be down');\n    }\n    \n    return Promise.reject(error);\n  }\n);\n\nexport default api;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}