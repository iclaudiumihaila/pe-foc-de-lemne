{"ast":null,"code":"/**\n * Analytics Utilities for Local Producer Web Application\n * \n * Comprehensive analytics tracking system with Google Analytics 4,\n * custom business metrics, and Romanian localization.\n */\n\n// Analytics configuration\nexport const ANALYTICS_CONFIG = {\n  // Google Analytics 4 configuration\n  ga4: {\n    measurementId: process.env.REACT_APP_GA4_MEASUREMENT_ID || 'G-XXXXXXXXXX',\n    enabled: process.env.NODE_ENV === 'production',\n    debugMode: process.env.NODE_ENV === 'development'\n  },\n  // Custom analytics configuration\n  custom: {\n    apiEndpoint: '/api/analytics',\n    batchSize: 10,\n    flushInterval: 30000,\n    // 30 seconds\n    enabled: true\n  },\n  // Privacy configuration\n  privacy: {\n    cookieConsent: true,\n    anonymizeIp: true,\n    respectDoNotTrack: true,\n    consentCookie: 'analytics_consent',\n    consentExpiry: 365 // days\n  },\n  // Romanian localization\n  locale: {\n    language: 'ro',\n    currency: 'RON',\n    country: 'RO',\n    timezone: 'Europe/Bucharest'\n  }\n};\n\n// Event categories for Romanian business\nexport const EVENT_CATEGORIES = {\n  ECOMMERCE: 'Comerț electronic',\n  USER_INTERACTION: 'Interacțiune utilizator',\n  PRODUCT: 'Produs',\n  CART: 'Coș',\n  CHECKOUT: 'Finalizare comandă',\n  SEARCH: 'Căutare',\n  NAVIGATION: 'Navigare',\n  PERFORMANCE: 'Performanță',\n  ERROR: 'Eroare',\n  PRODUCER: 'Producător',\n  CATEGORY: 'Categorie'\n};\n\n// Enhanced e-commerce events\nexport const ECOMMERCE_EVENTS = {\n  VIEW_ITEM: 'view_item',\n  ADD_TO_CART: 'add_to_cart',\n  REMOVE_FROM_CART: 'remove_from_cart',\n  VIEW_CART: 'view_cart',\n  BEGIN_CHECKOUT: 'begin_checkout',\n  ADD_PAYMENT_INFO: 'add_payment_info',\n  PURCHASE: 'purchase',\n  VIEW_ITEM_LIST: 'view_item_list',\n  SELECT_ITEM: 'select_item',\n  SEARCH: 'search'\n};\n\n// Custom business events\nexport const CUSTOM_EVENTS = {\n  PRODUCER_VIEW: 'producător_vizualizat',\n  PRODUCT_FILTER: 'produs_filtrat',\n  SEARCH_PERFORMED: 'căutare_efectuată',\n  CATEGORY_BROWSE: 'categorie_navigată',\n  SMS_VERIFICATION: 'verificare_sms',\n  ORDER_TRACKING: 'urmărire_comandă',\n  ERROR_OCCURRED: 'eroare_apărută',\n  PERFORMANCE_ISSUE: 'problemă_performanță',\n  USER_REGISTRATION: 'înregistrare_utilizator',\n  CONTACT_FORM: 'formular_contact'\n};\n\n// Analytics class for managing tracking\nclass Analytics {\n  constructor() {\n    this.initialized = false;\n    this.consentGiven = false;\n    this.eventQueue = [];\n    this.customQueue = [];\n    this.sessionId = this.generateSessionId();\n    this.userId = this.getUserId();\n\n    // Check for existing consent\n    this.checkConsent();\n\n    // Initialize if consent given\n    if (this.consentGiven) {\n      this.initialize();\n    }\n\n    // Set up automatic queue flushing\n    this.setupQueueFlushing();\n  }\n\n  /**\n   * Generate unique session ID\n   */\n  generateSessionId() {\n    return `${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;\n  }\n\n  /**\n   * Get or generate user ID\n   */\n  getUserId() {\n    let userId = localStorage.getItem('analytics_user_id');\n    if (!userId) {\n      userId = `user_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;\n      localStorage.setItem('analytics_user_id', userId);\n    }\n    return userId;\n  }\n\n  /**\n   * Check for existing analytics consent\n   */\n  checkConsent() {\n    const consent = localStorage.getItem(ANALYTICS_CONFIG.privacy.consentCookie);\n    if (consent === 'true') {\n      this.consentGiven = true;\n    }\n  }\n\n  /**\n   * Set analytics consent\n   */\n  setConsent(consent) {\n    this.consentGiven = consent;\n    localStorage.setItem(ANALYTICS_CONFIG.privacy.consentCookie, consent.toString());\n    if (consent) {\n      this.initialize();\n      // Process queued events\n      this.processQueuedEvents();\n    } else {\n      this.clearData();\n    }\n  }\n\n  /**\n   * Initialize analytics systems\n   */\n  initialize() {\n    if (this.initialized) return;\n    try {\n      // Initialize Google Analytics 4\n      this.initializeGA4();\n\n      // Initialize custom analytics\n      this.initializeCustomAnalytics();\n\n      // Set up performance monitoring\n      this.setupPerformanceMonitoring();\n\n      // Set up error tracking\n      this.setupErrorTracking();\n      this.initialized = true;\n      console.log('Analytics initialized successfully');\n    } catch (error) {\n      console.error('Analytics initialization failed:', error);\n    }\n  }\n\n  /**\n   * Initialize Google Analytics 4\n   */\n  initializeGA4() {\n    if (!ANALYTICS_CONFIG.ga4.enabled || !ANALYTICS_CONFIG.ga4.measurementId) {\n      return;\n    }\n\n    // Load gtag script\n    const script = document.createElement('script');\n    script.async = true;\n    script.src = `https://www.googletagmanager.com/gtag/js?id=${ANALYTICS_CONFIG.ga4.measurementId}`;\n    document.head.appendChild(script);\n\n    // Initialize gtag\n    window.dataLayer = window.dataLayer || [];\n    function gtag() {\n      window.dataLayer.push(arguments);\n    }\n    window.gtag = gtag;\n    gtag('js', new Date());\n    gtag('config', ANALYTICS_CONFIG.ga4.measurementId, {\n      anonymize_ip: ANALYTICS_CONFIG.privacy.anonymizeIp,\n      cookie_flags: 'SameSite=None;Secure',\n      debug_mode: ANALYTICS_CONFIG.ga4.debugMode,\n      custom_map: {\n        custom_parameter_1: 'producer_name',\n        custom_parameter_2: 'product_category'\n      }\n    });\n\n    // Set Romanian locale\n    gtag('config', ANALYTICS_CONFIG.ga4.measurementId, {\n      country: ANALYTICS_CONFIG.locale.country,\n      language: ANALYTICS_CONFIG.locale.language,\n      currency: ANALYTICS_CONFIG.locale.currency\n    });\n  }\n\n  /**\n   * Initialize custom analytics\n   */\n  initializeCustomAnalytics() {\n    // Set up session tracking\n    this.trackSession();\n\n    // Track page view\n    this.trackPageView();\n\n    // Set up automatic event tracking\n    this.setupAutomaticTracking();\n  }\n\n  /**\n   * Track e-commerce event\n   */\n  trackEcommerceEvent(eventName, eventData) {\n    if (!this.consentGiven) {\n      this.eventQueue.push({\n        type: 'ecommerce',\n        eventName,\n        eventData\n      });\n      return;\n    }\n    try {\n      // Track in Google Analytics 4\n      if (window.gtag && ANALYTICS_CONFIG.ga4.enabled) {\n        const gaData = this.formatGA4EcommerceData(eventData);\n        window.gtag('event', eventName, gaData);\n      }\n\n      // Track in custom analytics\n      this.trackCustomEvent('ecommerce', eventName, eventData);\n      console.log(`E-commerce event tracked: ${eventName}`, eventData);\n    } catch (error) {\n      console.error('E-commerce tracking error:', error);\n    }\n  }\n\n  /**\n   * Format data for GA4 e-commerce tracking\n   */\n  formatGA4EcommerceData(eventData) {\n    const formatted = {\n      currency: ANALYTICS_CONFIG.locale.currency,\n      value: eventData.value || 0,\n      ...eventData\n    };\n\n    // Format items for GA4\n    if (eventData.items) {\n      formatted.items = eventData.items.map(item => ({\n        item_id: item.id || item.item_id,\n        item_name: item.name || item.item_name,\n        category: item.category,\n        price: item.price,\n        quantity: item.quantity || 1,\n        item_brand: item.producer || 'Pe Foc de Lemne',\n        item_category2: item.subcategory,\n        currency: ANALYTICS_CONFIG.locale.currency\n      }));\n    }\n    return formatted;\n  }\n\n  /**\n   * Track custom business event\n   */\n  trackCustomEvent(category, action, data = {}) {\n    if (!this.consentGiven) {\n      this.customQueue.push({\n        category,\n        action,\n        data\n      });\n      return;\n    }\n    const eventData = {\n      category,\n      action,\n      timestamp: new Date().toISOString(),\n      sessionId: this.sessionId,\n      userId: this.userId,\n      page: window.location.pathname,\n      data: {\n        ...data,\n        user_agent: navigator.userAgent,\n        language: navigator.language,\n        screen_resolution: `${screen.width}x${screen.height}`,\n        viewport_size: `${window.innerWidth}x${window.innerHeight}`\n      }\n    };\n\n    // Add to custom queue for batch processing\n    this.customQueue.push(eventData);\n\n    // Track in Google Analytics if enabled\n    if (window.gtag && ANALYTICS_CONFIG.ga4.enabled) {\n      window.gtag('event', action, {\n        event_category: category,\n        event_label: data.label,\n        value: data.value,\n        custom_parameter_1: data.producer_name,\n        custom_parameter_2: data.product_category\n      });\n    }\n  }\n\n  /**\n   * Track page view\n   */\n  trackPageView(page = window.location.pathname, title = document.title) {\n    if (!this.consentGiven) return;\n\n    // Google Analytics 4\n    if (window.gtag && ANALYTICS_CONFIG.ga4.enabled) {\n      window.gtag('config', ANALYTICS_CONFIG.ga4.measurementId, {\n        page_title: title,\n        page_location: window.location.href,\n        page_path: page\n      });\n    }\n\n    // Custom analytics\n    this.trackCustomEvent(EVENT_CATEGORIES.NAVIGATION, 'page_view', {\n      page,\n      title,\n      referrer: document.referrer,\n      timestamp: new Date().toISOString()\n    });\n  }\n\n  /**\n   * Track user session\n   */\n  trackSession() {\n    const sessionData = {\n      sessionId: this.sessionId,\n      userId: this.userId,\n      startTime: new Date().toISOString(),\n      userAgent: navigator.userAgent,\n      language: navigator.language,\n      timezone: Intl.DateTimeFormat().resolvedOptions().timeZone,\n      screen: `${screen.width}x${screen.height}`,\n      viewport: `${window.innerWidth}x${window.innerHeight}`\n    };\n    this.trackCustomEvent(EVENT_CATEGORIES.USER_INTERACTION, 'session_start', sessionData);\n  }\n\n  /**\n   * Set up automatic event tracking\n   */\n  setupAutomaticTracking() {\n    // Track clicks on important elements\n    document.addEventListener('click', e => {\n      const element = e.target;\n\n      // Track product card clicks\n      if (element.closest('[data-analytics=\"product-card\"]')) {\n        const productId = element.closest('[data-analytics=\"product-card\"]').dataset.productId;\n        this.trackCustomEvent(EVENT_CATEGORIES.PRODUCT, 'product_click', {\n          productId\n        });\n      }\n\n      // Track CTA button clicks\n      if (element.matches('[data-analytics=\"cta-button\"]')) {\n        const ctaType = element.dataset.ctaType;\n        this.trackCustomEvent(EVENT_CATEGORIES.USER_INTERACTION, 'cta_click', {\n          ctaType\n        });\n      }\n\n      // Track external links\n      if (element.matches('a[href^=\"http\"]') && !element.href.includes(window.location.hostname)) {\n        this.trackCustomEvent(EVENT_CATEGORIES.NAVIGATION, 'external_link', {\n          url: element.href\n        });\n      }\n    });\n\n    // Track form submissions\n    document.addEventListener('submit', e => {\n      const form = e.target;\n      if (form.matches('form[data-analytics]')) {\n        const formType = form.dataset.analytics;\n        this.trackCustomEvent(EVENT_CATEGORIES.USER_INTERACTION, 'form_submit', {\n          formType\n        });\n      }\n    });\n\n    // Track scroll depth\n    this.setupScrollTracking();\n  }\n\n  /**\n   * Set up scroll depth tracking\n   */\n  setupScrollTracking() {\n    let maxScroll = 0;\n    let scrollMilestones = [25, 50, 75, 90, 100];\n    let triggeredMilestones = new Set();\n    const trackScroll = () => {\n      const scrollPercent = Math.round(window.scrollY / (document.documentElement.scrollHeight - window.innerHeight) * 100);\n      if (scrollPercent > maxScroll) {\n        maxScroll = scrollPercent;\n\n        // Check for milestone achievements\n        scrollMilestones.forEach(milestone => {\n          if (scrollPercent >= milestone && !triggeredMilestones.has(milestone)) {\n            triggeredMilestones.add(milestone);\n            this.trackCustomEvent(EVENT_CATEGORIES.USER_INTERACTION, 'scroll_depth', {\n              percentage: milestone,\n              page: window.location.pathname\n            });\n          }\n        });\n      }\n    };\n    let scrollTimer;\n    window.addEventListener('scroll', () => {\n      clearTimeout(scrollTimer);\n      scrollTimer = setTimeout(trackScroll, 100);\n    });\n  }\n\n  /**\n   * Set up performance monitoring\n   */\n  setupPerformanceMonitoring() {\n    // Track Core Web Vitals\n    if ('web-vital' in window) {\n      window.webVitals.getCLS(this.trackWebVital.bind(this));\n      window.webVitals.getFID(this.trackWebVital.bind(this));\n      window.webVitals.getLCP(this.trackWebVital.bind(this));\n    }\n\n    // Track page load performance\n    window.addEventListener('load', () => {\n      const perfData = performance.getEntriesByType('navigation')[0];\n      if (perfData) {\n        this.trackCustomEvent(EVENT_CATEGORIES.PERFORMANCE, 'page_load', {\n          load_time: perfData.loadEventEnd - perfData.loadEventStart,\n          dom_content_loaded: perfData.domContentLoadedEventEnd - perfData.domContentLoadedEventStart,\n          first_byte: perfData.responseStart - perfData.requestStart,\n          page: window.location.pathname\n        });\n      }\n    });\n  }\n\n  /**\n   * Track Core Web Vitals\n   */\n  trackWebVital(metric) {\n    this.trackCustomEvent(EVENT_CATEGORIES.PERFORMANCE, 'web_vital', {\n      metric_name: metric.name,\n      metric_value: Math.round(metric.value),\n      metric_rating: metric.rating,\n      page: window.location.pathname\n    });\n\n    // Also send to Google Analytics\n    if (window.gtag && ANALYTICS_CONFIG.ga4.enabled) {\n      window.gtag('event', metric.name, {\n        event_category: 'Web Vitals',\n        value: Math.round(metric.value),\n        metric_rating: metric.rating,\n        non_interaction: true\n      });\n    }\n  }\n\n  /**\n   * Set up error tracking\n   */\n  setupErrorTracking() {\n    // Track JavaScript errors\n    window.addEventListener('error', e => {\n      var _e$error;\n      this.trackCustomEvent(EVENT_CATEGORIES.ERROR, 'javascript_error', {\n        message: e.message,\n        filename: e.filename,\n        line: e.lineno,\n        column: e.colno,\n        stack: (_e$error = e.error) === null || _e$error === void 0 ? void 0 : _e$error.stack,\n        page: window.location.pathname\n      });\n    });\n\n    // Track unhandled promise rejections\n    window.addEventListener('unhandledrejection', e => {\n      var _e$reason;\n      this.trackCustomEvent(EVENT_CATEGORIES.ERROR, 'unhandled_rejection', {\n        reason: (_e$reason = e.reason) === null || _e$reason === void 0 ? void 0 : _e$reason.toString(),\n        page: window.location.pathname\n      });\n    });\n  }\n\n  /**\n   * Set up queue flushing\n   */\n  setupQueueFlushing() {\n    setInterval(() => {\n      this.flushCustomQueue();\n    }, ANALYTICS_CONFIG.custom.flushInterval);\n\n    // Flush on page unload\n    window.addEventListener('beforeunload', () => {\n      this.flushCustomQueue();\n    });\n  }\n\n  /**\n   * Flush custom analytics queue\n   */\n  async flushCustomQueue() {\n    if (this.customQueue.length === 0 || !ANALYTICS_CONFIG.custom.enabled) return;\n    const events = this.customQueue.splice(0, ANALYTICS_CONFIG.custom.batchSize);\n    try {\n      await fetch(ANALYTICS_CONFIG.custom.apiEndpoint, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          events\n        })\n      });\n    } catch (error) {\n      console.error('Failed to send analytics events:', error);\n      // Re-add events to queue on failure\n      this.customQueue.unshift(...events);\n    }\n  }\n\n  /**\n   * Process queued events after consent given\n   */\n  processQueuedEvents() {\n    // Process e-commerce events\n    this.eventQueue.forEach(({\n      type,\n      eventName,\n      eventData\n    }) => {\n      if (type === 'ecommerce') {\n        this.trackEcommerceEvent(eventName, eventData);\n      }\n    });\n    this.eventQueue = [];\n\n    // Custom events are already in customQueue and will be flushed\n  }\n\n  /**\n   * Clear all analytics data\n   */\n  clearData() {\n    localStorage.removeItem(ANALYTICS_CONFIG.privacy.consentCookie);\n    localStorage.removeItem('analytics_user_id');\n    this.eventQueue = [];\n    this.customQueue = [];\n  }\n}\n\n// Create global analytics instance\nconst analytics = new Analytics();\n\n// Export analytics functions\nexport const trackEcommerceEvent = (eventName, eventData) => {\n  analytics.trackEcommerceEvent(eventName, eventData);\n};\nexport const trackCustomEvent = (category, action, data) => {\n  analytics.trackCustomEvent(category, action, data);\n};\nexport const trackPageView = (page, title) => {\n  analytics.trackPageView(page, title);\n};\nexport const setAnalyticsConsent = consent => {\n  analytics.setConsent(consent);\n};\nexport const getAnalyticsConsent = () => {\n  return analytics.consentGiven;\n};\n\n// Product-specific tracking functions\nexport const trackProductView = product => {\n  trackEcommerceEvent(ECOMMERCE_EVENTS.VIEW_ITEM, {\n    currency: ANALYTICS_CONFIG.locale.currency,\n    value: product.price,\n    items: [{\n      id: product.id,\n      name: product.name,\n      category: product.category,\n      price: product.price,\n      producer: product.producer\n    }]\n  });\n};\nexport const trackAddToCart = (product, quantity = 1) => {\n  trackEcommerceEvent(ECOMMERCE_EVENTS.ADD_TO_CART, {\n    currency: ANALYTICS_CONFIG.locale.currency,\n    value: product.price * quantity,\n    items: [{\n      id: product.id,\n      name: product.name,\n      category: product.category,\n      price: product.price,\n      quantity: quantity,\n      producer: product.producer\n    }]\n  });\n};\nexport const trackPurchase = order => {\n  trackEcommerceEvent(ECOMMERCE_EVENTS.PURCHASE, {\n    transaction_id: order.id,\n    currency: ANALYTICS_CONFIG.locale.currency,\n    value: order.total,\n    tax: order.tax || 0,\n    shipping: order.shipping || 0,\n    items: order.items.map(item => ({\n      id: item.product.id,\n      name: item.product.name,\n      category: item.product.category,\n      price: item.product.price,\n      quantity: item.quantity,\n      producer: item.product.producer\n    }))\n  });\n};\nexport const trackSearch = (query, resultsCount = 0) => {\n  trackEcommerceEvent(ECOMMERCE_EVENTS.SEARCH, {\n    search_term: query,\n    results_count: resultsCount\n  });\n  trackCustomEvent(EVENT_CATEGORIES.SEARCH, CUSTOM_EVENTS.SEARCH_PERFORMED, {\n    query,\n    resultsCount,\n    timestamp: new Date().toISOString()\n  });\n};\nexport default analytics;","map":{"version":3,"names":["ANALYTICS_CONFIG","ga4","measurementId","process","env","REACT_APP_GA4_MEASUREMENT_ID","enabled","NODE_ENV","debugMode","custom","apiEndpoint","batchSize","flushInterval","privacy","cookieConsent","anonymizeIp","respectDoNotTrack","consentCookie","consentExpiry","locale","language","currency","country","timezone","EVENT_CATEGORIES","ECOMMERCE","USER_INTERACTION","PRODUCT","CART","CHECKOUT","SEARCH","NAVIGATION","PERFORMANCE","ERROR","PRODUCER","CATEGORY","ECOMMERCE_EVENTS","VIEW_ITEM","ADD_TO_CART","REMOVE_FROM_CART","VIEW_CART","BEGIN_CHECKOUT","ADD_PAYMENT_INFO","PURCHASE","VIEW_ITEM_LIST","SELECT_ITEM","CUSTOM_EVENTS","PRODUCER_VIEW","PRODUCT_FILTER","SEARCH_PERFORMED","CATEGORY_BROWSE","SMS_VERIFICATION","ORDER_TRACKING","ERROR_OCCURRED","PERFORMANCE_ISSUE","USER_REGISTRATION","CONTACT_FORM","Analytics","constructor","initialized","consentGiven","eventQueue","customQueue","sessionId","generateSessionId","userId","getUserId","checkConsent","initialize","setupQueueFlushing","Date","now","Math","random","toString","substr","localStorage","getItem","setItem","consent","setConsent","processQueuedEvents","clearData","initializeGA4","initializeCustomAnalytics","setupPerformanceMonitoring","setupErrorTracking","console","log","error","script","document","createElement","async","src","head","appendChild","window","dataLayer","gtag","push","arguments","anonymize_ip","cookie_flags","debug_mode","custom_map","custom_parameter_1","custom_parameter_2","trackSession","trackPageView","setupAutomaticTracking","trackEcommerceEvent","eventName","eventData","type","gaData","formatGA4EcommerceData","trackCustomEvent","formatted","value","items","map","item","item_id","id","item_name","name","category","price","quantity","item_brand","producer","item_category2","subcategory","action","data","timestamp","toISOString","page","location","pathname","user_agent","navigator","userAgent","screen_resolution","screen","width","height","viewport_size","innerWidth","innerHeight","event_category","event_label","label","producer_name","product_category","title","page_title","page_location","href","page_path","referrer","sessionData","startTime","Intl","DateTimeFormat","resolvedOptions","timeZone","viewport","addEventListener","e","element","target","closest","productId","dataset","matches","ctaType","includes","hostname","url","form","formType","analytics","setupScrollTracking","maxScroll","scrollMilestones","triggeredMilestones","Set","trackScroll","scrollPercent","round","scrollY","documentElement","scrollHeight","forEach","milestone","has","add","percentage","scrollTimer","clearTimeout","setTimeout","webVitals","getCLS","trackWebVital","bind","getFID","getLCP","perfData","performance","getEntriesByType","load_time","loadEventEnd","loadEventStart","dom_content_loaded","domContentLoadedEventEnd","domContentLoadedEventStart","first_byte","responseStart","requestStart","metric","metric_name","metric_value","metric_rating","rating","non_interaction","_e$error","message","filename","line","lineno","column","colno","stack","_e$reason","reason","setInterval","flushCustomQueue","length","events","splice","fetch","method","headers","body","JSON","stringify","unshift","removeItem","setAnalyticsConsent","getAnalyticsConsent","trackProductView","product","trackAddToCart","trackPurchase","order","transaction_id","total","tax","shipping","trackSearch","query","resultsCount","search_term","results_count"],"sources":["/Users/claudiu/Desktop/pe foc de lemne/frontend/src/utils/analytics.js"],"sourcesContent":["/**\n * Analytics Utilities for Local Producer Web Application\n * \n * Comprehensive analytics tracking system with Google Analytics 4,\n * custom business metrics, and Romanian localization.\n */\n\n// Analytics configuration\nexport const ANALYTICS_CONFIG = {\n  // Google Analytics 4 configuration\n  ga4: {\n    measurementId: process.env.REACT_APP_GA4_MEASUREMENT_ID || 'G-XXXXXXXXXX',\n    enabled: process.env.NODE_ENV === 'production',\n    debugMode: process.env.NODE_ENV === 'development'\n  },\n  \n  // Custom analytics configuration\n  custom: {\n    apiEndpoint: '/api/analytics',\n    batchSize: 10,\n    flushInterval: 30000, // 30 seconds\n    enabled: true\n  },\n  \n  // Privacy configuration\n  privacy: {\n    cookieConsent: true,\n    anonymizeIp: true,\n    respectDoNotTrack: true,\n    consentCookie: 'analytics_consent',\n    consentExpiry: 365 // days\n  },\n  \n  // Romanian localization\n  locale: {\n    language: 'ro',\n    currency: 'RON',\n    country: 'RO',\n    timezone: 'Europe/Bucharest'\n  }\n};\n\n// Event categories for Romanian business\nexport const EVENT_CATEGORIES = {\n  ECOMMERCE: 'Comerț electronic',\n  USER_INTERACTION: 'Interacțiune utilizator',\n  PRODUCT: 'Produs',\n  CART: 'Coș',\n  CHECKOUT: 'Finalizare comandă',\n  SEARCH: 'Căutare',\n  NAVIGATION: 'Navigare',\n  PERFORMANCE: 'Performanță',\n  ERROR: 'Eroare',\n  PRODUCER: 'Producător',\n  CATEGORY: 'Categorie'\n};\n\n// Enhanced e-commerce events\nexport const ECOMMERCE_EVENTS = {\n  VIEW_ITEM: 'view_item',\n  ADD_TO_CART: 'add_to_cart',\n  REMOVE_FROM_CART: 'remove_from_cart',\n  VIEW_CART: 'view_cart',\n  BEGIN_CHECKOUT: 'begin_checkout',\n  ADD_PAYMENT_INFO: 'add_payment_info',\n  PURCHASE: 'purchase',\n  VIEW_ITEM_LIST: 'view_item_list',\n  SELECT_ITEM: 'select_item',\n  SEARCH: 'search'\n};\n\n// Custom business events\nexport const CUSTOM_EVENTS = {\n  PRODUCER_VIEW: 'producător_vizualizat',\n  PRODUCT_FILTER: 'produs_filtrat',\n  SEARCH_PERFORMED: 'căutare_efectuată',\n  CATEGORY_BROWSE: 'categorie_navigată',\n  SMS_VERIFICATION: 'verificare_sms',\n  ORDER_TRACKING: 'urmărire_comandă',\n  ERROR_OCCURRED: 'eroare_apărută',\n  PERFORMANCE_ISSUE: 'problemă_performanță',\n  USER_REGISTRATION: 'înregistrare_utilizator',\n  CONTACT_FORM: 'formular_contact'\n};\n\n// Analytics class for managing tracking\nclass Analytics {\n  constructor() {\n    this.initialized = false;\n    this.consentGiven = false;\n    this.eventQueue = [];\n    this.customQueue = [];\n    this.sessionId = this.generateSessionId();\n    this.userId = this.getUserId();\n    \n    // Check for existing consent\n    this.checkConsent();\n    \n    // Initialize if consent given\n    if (this.consentGiven) {\n      this.initialize();\n    }\n    \n    // Set up automatic queue flushing\n    this.setupQueueFlushing();\n  }\n\n  /**\n   * Generate unique session ID\n   */\n  generateSessionId() {\n    return `${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;\n  }\n\n  /**\n   * Get or generate user ID\n   */\n  getUserId() {\n    let userId = localStorage.getItem('analytics_user_id');\n    if (!userId) {\n      userId = `user_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;\n      localStorage.setItem('analytics_user_id', userId);\n    }\n    return userId;\n  }\n\n  /**\n   * Check for existing analytics consent\n   */\n  checkConsent() {\n    const consent = localStorage.getItem(ANALYTICS_CONFIG.privacy.consentCookie);\n    if (consent === 'true') {\n      this.consentGiven = true;\n    }\n  }\n\n  /**\n   * Set analytics consent\n   */\n  setConsent(consent) {\n    this.consentGiven = consent;\n    localStorage.setItem(ANALYTICS_CONFIG.privacy.consentCookie, consent.toString());\n    \n    if (consent) {\n      this.initialize();\n      // Process queued events\n      this.processQueuedEvents();\n    } else {\n      this.clearData();\n    }\n  }\n\n  /**\n   * Initialize analytics systems\n   */\n  initialize() {\n    if (this.initialized) return;\n    \n    try {\n      // Initialize Google Analytics 4\n      this.initializeGA4();\n      \n      // Initialize custom analytics\n      this.initializeCustomAnalytics();\n      \n      // Set up performance monitoring\n      this.setupPerformanceMonitoring();\n      \n      // Set up error tracking\n      this.setupErrorTracking();\n      \n      this.initialized = true;\n      console.log('Analytics initialized successfully');\n    } catch (error) {\n      console.error('Analytics initialization failed:', error);\n    }\n  }\n\n  /**\n   * Initialize Google Analytics 4\n   */\n  initializeGA4() {\n    if (!ANALYTICS_CONFIG.ga4.enabled || !ANALYTICS_CONFIG.ga4.measurementId) {\n      return;\n    }\n\n    // Load gtag script\n    const script = document.createElement('script');\n    script.async = true;\n    script.src = `https://www.googletagmanager.com/gtag/js?id=${ANALYTICS_CONFIG.ga4.measurementId}`;\n    document.head.appendChild(script);\n\n    // Initialize gtag\n    window.dataLayer = window.dataLayer || [];\n    function gtag() { window.dataLayer.push(arguments); }\n    window.gtag = gtag;\n    \n    gtag('js', new Date());\n    gtag('config', ANALYTICS_CONFIG.ga4.measurementId, {\n      anonymize_ip: ANALYTICS_CONFIG.privacy.anonymizeIp,\n      cookie_flags: 'SameSite=None;Secure',\n      debug_mode: ANALYTICS_CONFIG.ga4.debugMode,\n      custom_map: {\n        custom_parameter_1: 'producer_name',\n        custom_parameter_2: 'product_category'\n      }\n    });\n\n    // Set Romanian locale\n    gtag('config', ANALYTICS_CONFIG.ga4.measurementId, {\n      country: ANALYTICS_CONFIG.locale.country,\n      language: ANALYTICS_CONFIG.locale.language,\n      currency: ANALYTICS_CONFIG.locale.currency\n    });\n  }\n\n  /**\n   * Initialize custom analytics\n   */\n  initializeCustomAnalytics() {\n    // Set up session tracking\n    this.trackSession();\n    \n    // Track page view\n    this.trackPageView();\n    \n    // Set up automatic event tracking\n    this.setupAutomaticTracking();\n  }\n\n  /**\n   * Track e-commerce event\n   */\n  trackEcommerceEvent(eventName, eventData) {\n    if (!this.consentGiven) {\n      this.eventQueue.push({ type: 'ecommerce', eventName, eventData });\n      return;\n    }\n\n    try {\n      // Track in Google Analytics 4\n      if (window.gtag && ANALYTICS_CONFIG.ga4.enabled) {\n        const gaData = this.formatGA4EcommerceData(eventData);\n        window.gtag('event', eventName, gaData);\n      }\n\n      // Track in custom analytics\n      this.trackCustomEvent('ecommerce', eventName, eventData);\n\n      console.log(`E-commerce event tracked: ${eventName}`, eventData);\n    } catch (error) {\n      console.error('E-commerce tracking error:', error);\n    }\n  }\n\n  /**\n   * Format data for GA4 e-commerce tracking\n   */\n  formatGA4EcommerceData(eventData) {\n    const formatted = {\n      currency: ANALYTICS_CONFIG.locale.currency,\n      value: eventData.value || 0,\n      ...eventData\n    };\n\n    // Format items for GA4\n    if (eventData.items) {\n      formatted.items = eventData.items.map(item => ({\n        item_id: item.id || item.item_id,\n        item_name: item.name || item.item_name,\n        category: item.category,\n        price: item.price,\n        quantity: item.quantity || 1,\n        item_brand: item.producer || 'Pe Foc de Lemne',\n        item_category2: item.subcategory,\n        currency: ANALYTICS_CONFIG.locale.currency\n      }));\n    }\n\n    return formatted;\n  }\n\n  /**\n   * Track custom business event\n   */\n  trackCustomEvent(category, action, data = {}) {\n    if (!this.consentGiven) {\n      this.customQueue.push({ category, action, data });\n      return;\n    }\n\n    const eventData = {\n      category,\n      action,\n      timestamp: new Date().toISOString(),\n      sessionId: this.sessionId,\n      userId: this.userId,\n      page: window.location.pathname,\n      data: {\n        ...data,\n        user_agent: navigator.userAgent,\n        language: navigator.language,\n        screen_resolution: `${screen.width}x${screen.height}`,\n        viewport_size: `${window.innerWidth}x${window.innerHeight}`\n      }\n    };\n\n    // Add to custom queue for batch processing\n    this.customQueue.push(eventData);\n\n    // Track in Google Analytics if enabled\n    if (window.gtag && ANALYTICS_CONFIG.ga4.enabled) {\n      window.gtag('event', action, {\n        event_category: category,\n        event_label: data.label,\n        value: data.value,\n        custom_parameter_1: data.producer_name,\n        custom_parameter_2: data.product_category\n      });\n    }\n  }\n\n  /**\n   * Track page view\n   */\n  trackPageView(page = window.location.pathname, title = document.title) {\n    if (!this.consentGiven) return;\n\n    // Google Analytics 4\n    if (window.gtag && ANALYTICS_CONFIG.ga4.enabled) {\n      window.gtag('config', ANALYTICS_CONFIG.ga4.measurementId, {\n        page_title: title,\n        page_location: window.location.href,\n        page_path: page\n      });\n    }\n\n    // Custom analytics\n    this.trackCustomEvent(EVENT_CATEGORIES.NAVIGATION, 'page_view', {\n      page,\n      title,\n      referrer: document.referrer,\n      timestamp: new Date().toISOString()\n    });\n  }\n\n  /**\n   * Track user session\n   */\n  trackSession() {\n    const sessionData = {\n      sessionId: this.sessionId,\n      userId: this.userId,\n      startTime: new Date().toISOString(),\n      userAgent: navigator.userAgent,\n      language: navigator.language,\n      timezone: Intl.DateTimeFormat().resolvedOptions().timeZone,\n      screen: `${screen.width}x${screen.height}`,\n      viewport: `${window.innerWidth}x${window.innerHeight}`\n    };\n\n    this.trackCustomEvent(EVENT_CATEGORIES.USER_INTERACTION, 'session_start', sessionData);\n  }\n\n  /**\n   * Set up automatic event tracking\n   */\n  setupAutomaticTracking() {\n    // Track clicks on important elements\n    document.addEventListener('click', (e) => {\n      const element = e.target;\n      \n      // Track product card clicks\n      if (element.closest('[data-analytics=\"product-card\"]')) {\n        const productId = element.closest('[data-analytics=\"product-card\"]').dataset.productId;\n        this.trackCustomEvent(EVENT_CATEGORIES.PRODUCT, 'product_click', { productId });\n      }\n      \n      // Track CTA button clicks\n      if (element.matches('[data-analytics=\"cta-button\"]')) {\n        const ctaType = element.dataset.ctaType;\n        this.trackCustomEvent(EVENT_CATEGORIES.USER_INTERACTION, 'cta_click', { ctaType });\n      }\n      \n      // Track external links\n      if (element.matches('a[href^=\"http\"]') && !element.href.includes(window.location.hostname)) {\n        this.trackCustomEvent(EVENT_CATEGORIES.NAVIGATION, 'external_link', { url: element.href });\n      }\n    });\n\n    // Track form submissions\n    document.addEventListener('submit', (e) => {\n      const form = e.target;\n      if (form.matches('form[data-analytics]')) {\n        const formType = form.dataset.analytics;\n        this.trackCustomEvent(EVENT_CATEGORIES.USER_INTERACTION, 'form_submit', { formType });\n      }\n    });\n\n    // Track scroll depth\n    this.setupScrollTracking();\n  }\n\n  /**\n   * Set up scroll depth tracking\n   */\n  setupScrollTracking() {\n    let maxScroll = 0;\n    let scrollMilestones = [25, 50, 75, 90, 100];\n    let triggeredMilestones = new Set();\n\n    const trackScroll = () => {\n      const scrollPercent = Math.round(\n        (window.scrollY / (document.documentElement.scrollHeight - window.innerHeight)) * 100\n      );\n      \n      if (scrollPercent > maxScroll) {\n        maxScroll = scrollPercent;\n        \n        // Check for milestone achievements\n        scrollMilestones.forEach(milestone => {\n          if (scrollPercent >= milestone && !triggeredMilestones.has(milestone)) {\n            triggeredMilestones.add(milestone);\n            this.trackCustomEvent(EVENT_CATEGORIES.USER_INTERACTION, 'scroll_depth', {\n              percentage: milestone,\n              page: window.location.pathname\n            });\n          }\n        });\n      }\n    };\n\n    let scrollTimer;\n    window.addEventListener('scroll', () => {\n      clearTimeout(scrollTimer);\n      scrollTimer = setTimeout(trackScroll, 100);\n    });\n  }\n\n  /**\n   * Set up performance monitoring\n   */\n  setupPerformanceMonitoring() {\n    // Track Core Web Vitals\n    if ('web-vital' in window) {\n      window.webVitals.getCLS(this.trackWebVital.bind(this));\n      window.webVitals.getFID(this.trackWebVital.bind(this));\n      window.webVitals.getLCP(this.trackWebVital.bind(this));\n    }\n\n    // Track page load performance\n    window.addEventListener('load', () => {\n      const perfData = performance.getEntriesByType('navigation')[0];\n      if (perfData) {\n        this.trackCustomEvent(EVENT_CATEGORIES.PERFORMANCE, 'page_load', {\n          load_time: perfData.loadEventEnd - perfData.loadEventStart,\n          dom_content_loaded: perfData.domContentLoadedEventEnd - perfData.domContentLoadedEventStart,\n          first_byte: perfData.responseStart - perfData.requestStart,\n          page: window.location.pathname\n        });\n      }\n    });\n  }\n\n  /**\n   * Track Core Web Vitals\n   */\n  trackWebVital(metric) {\n    this.trackCustomEvent(EVENT_CATEGORIES.PERFORMANCE, 'web_vital', {\n      metric_name: metric.name,\n      metric_value: Math.round(metric.value),\n      metric_rating: metric.rating,\n      page: window.location.pathname\n    });\n\n    // Also send to Google Analytics\n    if (window.gtag && ANALYTICS_CONFIG.ga4.enabled) {\n      window.gtag('event', metric.name, {\n        event_category: 'Web Vitals',\n        value: Math.round(metric.value),\n        metric_rating: metric.rating,\n        non_interaction: true\n      });\n    }\n  }\n\n  /**\n   * Set up error tracking\n   */\n  setupErrorTracking() {\n    // Track JavaScript errors\n    window.addEventListener('error', (e) => {\n      this.trackCustomEvent(EVENT_CATEGORIES.ERROR, 'javascript_error', {\n        message: e.message,\n        filename: e.filename,\n        line: e.lineno,\n        column: e.colno,\n        stack: e.error?.stack,\n        page: window.location.pathname\n      });\n    });\n\n    // Track unhandled promise rejections\n    window.addEventListener('unhandledrejection', (e) => {\n      this.trackCustomEvent(EVENT_CATEGORIES.ERROR, 'unhandled_rejection', {\n        reason: e.reason?.toString(),\n        page: window.location.pathname\n      });\n    });\n  }\n\n  /**\n   * Set up queue flushing\n   */\n  setupQueueFlushing() {\n    setInterval(() => {\n      this.flushCustomQueue();\n    }, ANALYTICS_CONFIG.custom.flushInterval);\n\n    // Flush on page unload\n    window.addEventListener('beforeunload', () => {\n      this.flushCustomQueue();\n    });\n  }\n\n  /**\n   * Flush custom analytics queue\n   */\n  async flushCustomQueue() {\n    if (this.customQueue.length === 0 || !ANALYTICS_CONFIG.custom.enabled) return;\n\n    const events = this.customQueue.splice(0, ANALYTICS_CONFIG.custom.batchSize);\n    \n    try {\n      await fetch(ANALYTICS_CONFIG.custom.apiEndpoint, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({ events })\n      });\n    } catch (error) {\n      console.error('Failed to send analytics events:', error);\n      // Re-add events to queue on failure\n      this.customQueue.unshift(...events);\n    }\n  }\n\n  /**\n   * Process queued events after consent given\n   */\n  processQueuedEvents() {\n    // Process e-commerce events\n    this.eventQueue.forEach(({ type, eventName, eventData }) => {\n      if (type === 'ecommerce') {\n        this.trackEcommerceEvent(eventName, eventData);\n      }\n    });\n    this.eventQueue = [];\n\n    // Custom events are already in customQueue and will be flushed\n  }\n\n  /**\n   * Clear all analytics data\n   */\n  clearData() {\n    localStorage.removeItem(ANALYTICS_CONFIG.privacy.consentCookie);\n    localStorage.removeItem('analytics_user_id');\n    this.eventQueue = [];\n    this.customQueue = [];\n  }\n}\n\n// Create global analytics instance\nconst analytics = new Analytics();\n\n// Export analytics functions\nexport const trackEcommerceEvent = (eventName, eventData) => {\n  analytics.trackEcommerceEvent(eventName, eventData);\n};\n\nexport const trackCustomEvent = (category, action, data) => {\n  analytics.trackCustomEvent(category, action, data);\n};\n\nexport const trackPageView = (page, title) => {\n  analytics.trackPageView(page, title);\n};\n\nexport const setAnalyticsConsent = (consent) => {\n  analytics.setConsent(consent);\n};\n\nexport const getAnalyticsConsent = () => {\n  return analytics.consentGiven;\n};\n\n// Product-specific tracking functions\nexport const trackProductView = (product) => {\n  trackEcommerceEvent(ECOMMERCE_EVENTS.VIEW_ITEM, {\n    currency: ANALYTICS_CONFIG.locale.currency,\n    value: product.price,\n    items: [{\n      id: product.id,\n      name: product.name,\n      category: product.category,\n      price: product.price,\n      producer: product.producer\n    }]\n  });\n};\n\nexport const trackAddToCart = (product, quantity = 1) => {\n  trackEcommerceEvent(ECOMMERCE_EVENTS.ADD_TO_CART, {\n    currency: ANALYTICS_CONFIG.locale.currency,\n    value: product.price * quantity,\n    items: [{\n      id: product.id,\n      name: product.name,\n      category: product.category,\n      price: product.price,\n      quantity: quantity,\n      producer: product.producer\n    }]\n  });\n};\n\nexport const trackPurchase = (order) => {\n  trackEcommerceEvent(ECOMMERCE_EVENTS.PURCHASE, {\n    transaction_id: order.id,\n    currency: ANALYTICS_CONFIG.locale.currency,\n    value: order.total,\n    tax: order.tax || 0,\n    shipping: order.shipping || 0,\n    items: order.items.map(item => ({\n      id: item.product.id,\n      name: item.product.name,\n      category: item.product.category,\n      price: item.product.price,\n      quantity: item.quantity,\n      producer: item.product.producer\n    }))\n  });\n};\n\nexport const trackSearch = (query, resultsCount = 0) => {\n  trackEcommerceEvent(ECOMMERCE_EVENTS.SEARCH, {\n    search_term: query,\n    results_count: resultsCount\n  });\n  \n  trackCustomEvent(EVENT_CATEGORIES.SEARCH, CUSTOM_EVENTS.SEARCH_PERFORMED, {\n    query,\n    resultsCount,\n    timestamp: new Date().toISOString()\n  });\n};\n\nexport default analytics;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}